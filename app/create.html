<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create</title>
    <link rel="stylesheet" href="/styles.css"> <!-- HÄMTA CSS-fil -->
</head>
<body>
    <h1>Registrera en bok</h1>

    <!-- Registreringsformulär -->
    <label for="title">Book titel</label>
    <input id="title" type="text" name="title" autofocus />
    <label for="id">Book id</label>
    <input id="id" type="text" name="id"/>
    <label for="genre">Book genre</label>
    <input id="genre" type="text" name="genre"/>
    <label for="year">Book author</label>
    <input id="year" type="text" name="year"/>
    <label for="author_name">Year</label>
    <input id="author_name" type="text" name="author_name"/>


    <br>

    <button id="btnSave" type="submit">Spara</button>

    <script>
        var btnSave = document.querySelector('#btnSave');
        var title = document.querySelector('#title');
        var id = document.querySelector('#id');
        var genre = document.querySelector('#genre');
        var year = document.querySelector('#year');
        var author_name = document.querySelector('#author_name');

        btnSave.addEventListener('click', () => {

            const options = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ title: title.value, id:id.value, genre:genre.value, year:year.value, author_name:author_name.value})
            }

            fetch('http://localhost:3002/customer/add', options)
            .then(response => console.log(response))
            .catch(error => console.error(error));
        });
    </script>
</body>
</html>
